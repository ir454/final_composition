<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Majical Dancing Wireframe Cubes</title>
<style>
  body { margin:0; overflow:hidden; background:#111; }
  canvas { display:block; }
</style>
</head>
<body>
<script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
<script>
/* ===============================
   THREE.JS SETUP
   =============================== */
const scene = new THREE.Scene();
scene.background = new THREE.Color(0x111111);

const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
camera.position.set(20, 20, 40);

const renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

/* LIGHTS */
const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
scene.add(ambientLight);
const directionalLight = new THREE.DirectionalLight(0xffffff, 0.7);
directionalLight.position.set(30,50,30);
scene.add(directionalLight);

/* ===============================
   CREATE WIRE FRAME BUILDING
   =============================== */
const sculpture = new THREE.Group();
scene.add(sculpture);

const cubeGeometry = new THREE.BoxGeometry(1,1,1);
const cubeMaterial = new THREE.MeshBasicMaterial({color:0x00ffcc, wireframe:true});

const cubes = [];
const towerCount = 4;
const towerHeight = 6;

for(let t=0; t<towerCount; t++){
  const towerX = (t - (towerCount-1)/2)*4;
  for(let y=0; y<towerHeight; y++){
    const zOffset = (Math.random()-0.5)*2;
    const xOffset = (Math.random()-0.5)*2;
    const cube = new THREE.Mesh(cubeGeometry, cubeMaterial);
    cube.position.set(towerX + xOffset, y, zOffset);
    sculpture.add(cube);

    cubes.push({
      mesh: cube,
      basePos: cube.position.clone(),
      phase: Math.random()*Math.PI*2,
      speed: 0.5 + Math.random()
    });
  }
}

/* ===============================
   DANCING ANIMATION FUNCTION
   =============================== */
function animate(){
  requestAnimationFrame(animate);
  const t = performance.now()*0.001;

  cubes.forEach(c=>{
    // magical dancing motion
    const floatX = Math.sin(t*c.speed + c.phase)*0.7;
    const floatY = Math.cos(t*c.speed*1.2 + c.phase)*0.5;
    const floatZ = Math.sin(t*c.speed*0.8 + c.phase)*0.7;

    c.mesh.position.x = c.basePos.x + floatX;
    c.mesh.position.y = c.basePos.y + floatY;
    c.mesh.position.z = c.basePos.z + floatZ;

    // rotation for extra magic
    c.mesh.rotation.x = t*c.speed*0.3 + c.phase;
    c.mesh.rotation.y = t*c.speed*0.4 + c.phase;

    // pulsing scale
    const scale = 0.8 + 0.2*Math.sin(t*2 + c.phase);
    c.mesh.scale.set(scale, scale, scale);
  });

  sculpture.rotation.y += 0.0015;
  renderer.render(scene, camera);
}
animate();

/* ===============================
   HANDLE RESIZE
   =============================== */
window.addEventListener('resize',()=>{
  camera.aspect = window.innerWidth/window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth, window.innerHeight);
});
</script>
</body>
</html>
